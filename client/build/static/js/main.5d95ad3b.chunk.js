(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{168:function(e,t,a){e.exports=a(318)},173:function(e,t,a){},174:function(e,t,a){},175:function(e,t,a){},318:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),o=a.n(c),l=(a(173),a(32)),i=(a(174),a(35)),u=a(319),m=(a(175),a(41)),s=a(118),d=a(162),p=a(144),E=a(91),h=a.n(E),f="https://".concat("patient-management-system.au.auth0.com","/authorize?audience=").concat("pms","&response_type=token&client_id=").concat("Abg5B5WnSEID76r7LCAbIGsWlpJjipBw","&redirect_uri=").concat("http://localhost:5000/callback","&scope=openid%20profile"),b="https://".concat("patient-management-system.au.auth0.com","/userinfo"),g=u.a.Header,y=function(){var e=Object(n.useState)({currentUser:null}),t=Object(m.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){null!=localStorage.getItem("bearer_token")&&function(){var e=localStorage.getItem("bearer_token");return h.a.get(b,{headers:{Authorization:"Bearer ".concat(e)}})}().then((function(e){c({currentUser:e.data})}))}),[]);var o=r.a.createElement(s.a,{theme:"dark",mode:"horizontal",style:{float:"right"}},r.a.createElement(s.a.Item,{key:"1"},r.a.createElement("a",{href:f},"Login / Signup")));return null!=a.currentUser&&(o=r.a.createElement(s.a,{theme:"dark",mode:"horizontal",style:{float:"right"}},r.a.createElement(s.a.Item,{key:"1"},r.a.createElement(i.b,{to:"/patients"},"Patients")),r.a.createElement(s.a.Item,{key:"2"},r.a.createElement(i.b,{to:"/doctors"},"Doctors")),r.a.createElement(s.a.Item,{key:"3",onClick:function(){c({currentUser:null}),localStorage.removeItem("bearer_token")}},r.a.createElement(d.a,{placement:"bottom",color:"#f50",title:"Click to logout!"},r.a.createElement(p.a,{style:{marginRight:"6px"},src:a.currentUser.picture}),"Hello, ".concat(a.currentUser.name))))),r.a.createElement(g,null,r.a.createElement("div",{style:{maxWidth:"800px",margin:"0 auto"}},r.a.createElement(i.b,{to:"/"},r.a.createElement("div",{className:"logo"})),o))},k=u.a.Content,v=u.a.Footer,I=function(e){return r.a.createElement(i.a,null,r.a.createElement(u.a,{className:"layout"},r.a.createElement(y,null),r.a.createElement(k,{style:{padding:"0 50px"}},e.children),r.a.createElement(v,{style:{textAlign:"center"}},"Created by Biswas Nandamuri")))},w=function(){return r.a.createElement("div",{className:"site-layout-content"},r.a.createElement("p",null,"Yes, it worked"))},O=function(e){var t=e.location.hash.split("&");if("token_type=Bearer"===t[3]){var a=t[0].split("=");localStorage.setItem("bearer_token",a[1])}return r.a.createElement(l.a,{to:"/"})},j=a(325),C=a(327),S=a(66),_=a(161),x=a(324),D=function(e){return r.a.createElement(C.b.Item,{key:e.id},r.a.createElement("h3",null,r.a.createElement(i.b,{to:"/patients/".concat(e.id)},e.name)),e.doctor_name?r.a.createElement("p",null,"Treated by ",r.a.createElement("strong",null,e.doctor_name)):r.a.createElement("p",null,"Yet to be treated."))},N=function(){return h.a.create({baseURL:"".concat("","/api"),headers:{Authorization:"Bearer ".concat(localStorage.getItem("bearer_token"))}})},B=function(e){var t=Object(n.useState)(1),a=Object(m.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)({data:null}),u=Object(m.a)(l,2),s=u[0],d=u[1];Object(n.useEffect)((function(){N().get("/patients?page=".concat(c)).then((function(e){d({data:e.data})})).catch((function(t){e.history.push("/"),j.a.error("Please login first")}))}),[c]);var p=r.a.createElement("p",null,"Loading...");return null!=s.data&&(p=r.a.createElement(C.b,{header:r.a.createElement("h2",null,"All Patients ",r.a.createElement(i.b,{to:"/patients/create"},r.a.createElement(S.a,{style:{float:"right"},type:"primary",shape:"round",icon:r.a.createElement(x.a,null)},"Create New"))),footer:r.a.createElement(_.a,{defaultCurrent:c,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," of ").concat(e," patients")},onChange:function(e){return o(e)},total:s.data.total_patients}),itemLayout:"horizontal",dataSource:s.data.patients,renderItem:D})),r.a.createElement("div",{className:"site-layout-content"},p)},L=a(321),P=a(322),A=a(326),z=L.a.Panel;var T=function(e){var t=null==e.data.doctor?"Yet to be treated":r.a.createElement(r.a.Fragment,null,"Treated by ",r.a.createElement(i.b,{to:"/doctors/".concat(e.data.doctor.id)},e.data.doctor.name)),a="Nothing listed...";return 0!==e.data.medication.length&&(a=function(e){var t=JSON.parse(e);return r.a.createElement(C.b,{bordered:!0,dataSource:t,renderItem:function(e){return r.a.createElement(C.b.Item,null,e.name," - ",e.units)}})}(e.data.medication)),r.a.createElement(P.a,{ghost:!1,onBack:function(){return window.history.back()},title:e.data.name,subTitle:t,extra:[r.a.createElement(S.a,{key:"2",danger:!0,onClick:e.onDelete},"Delete"),r.a.createElement(S.a,{key:"1",type:"primary",onClick:e.onEdit},"Edit")]},r.a.createElement(A.a,{column:2},r.a.createElement(A.a.Item,{label:"Age"},e.data.age),r.a.createElement(A.a.Item,{label:"Gender"},e.data.gender)),r.a.createElement(L.a,null,r.a.createElement(z,{header:"Medication",key:"1"},a)))},U=function(e){var t=Object(n.useState)(null),a=Object(m.a)(t,2),c=a[0],o=a[1];Object(n.useEffect)((function(){N().get("/patients/".concat(e.match.params.id)).then((function(e){e.data.success&&o(e.data.patient)})).catch((function(t){e.history.push("/"),j.a.error("Please login first")}))}),[e.match.params.id]);return r.a.createElement("div",{className:"site-layout-content"},null!=c?r.a.createElement(T,{data:c,onDelete:function(){j.a.loading("Deleting..."),N().delete("/patients/".concat(e.match.params.id)).then((function(t){j.a.info("Deleted patient"),e.history.push("/patients")})).catch((function(e){j.a.error("Error while deleting patient")}))},onEdit:function(){return console.log("Clicked Edit")}}):r.a.createElement("p",null,"Loading..."))},W=a(83),F=a(320),J=a(323),R=(W.a.Option,function(e){var t=F.a.useForm(),a=Object(m.a)(t,1)[0];return r.a.createElement("div",{className:"site-layout-content"},r.a.createElement(F.a,{form:a,labelCol:{span:4},wrapperCol:{span:10},layout:"horizontal",onFinish:function(e){console.log(e)}},r.a.createElement(F.a.Item,{label:"Input",name:"inp"},r.a.createElement(J.a,null)),r.a.createElement(F.a.Item,{wrapperCol:{offset:4}},r.a.createElement(S.a,{type:"primary",htmlType:"submit"},"Create"),r.a.createElement(S.a,{style:{marginLeft:"6px"},type:"ghost"},"Reset"))))}),Y=function(){return r.a.createElement(R,{mode:"create"})},G=function(e){return r.a.createElement(C.b.Item,{key:e.id},r.a.createElement("h3",null,r.a.createElement(i.b,{to:"/doctors/".concat(e.id)},e.name)),r.a.createElement("p",null,"Patients count: ",e.patients_count))},H=function(e){var t=Object(n.useState)(1),a=Object(m.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)({data:null}),i=Object(m.a)(l,2),u=i[0],s=i[1];Object(n.useEffect)((function(){N().get("/doctors?page=".concat(c)).then((function(e){s({data:e.data})})).catch((function(t){e.history.push("/"),j.a.error("Please login first")}))}),[c]);var d=r.a.createElement("p",null,"Loading...");return null!=u.data&&(d=r.a.createElement(C.b,{header:r.a.createElement("h2",null,"All Doctors ",r.a.createElement(S.a,{style:{float:"right"},type:"primary",shape:"round",href:"/doctors/create",icon:r.a.createElement(x.a,null)},"Create New")),footer:r.a.createElement(_.a,{defaultCurrent:c,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," of ").concat(e," patients")},onChange:function(e){return o(e)},total:u.data.total_doctors}),itemLayout:"horizontal",dataSource:u.data.doctors,renderItem:G})),r.a.createElement("div",{className:"site-layout-content"},d)},M=L.a.Panel,$=function(e){var t=r.a.createElement(C.b,{bordered:!0,dataSource:e.data.patients,renderItem:function(e){return r.a.createElement(C.b.Item,null,r.a.createElement(i.b,{to:"/patients/".concat(e.id)},e.name))}}),a="Treated "+e.data.patients.length+" patients";return r.a.createElement(P.a,{ghost:!1,onBack:function(){return window.history.back()},title:e.data.name,subTitle:a,extra:[r.a.createElement(S.a,{key:"2",danger:!0,onClick:e.onDelete},"Delete"),r.a.createElement(S.a,{key:"1",type:"primary",onClick:e.onEdit},"Edit")]},r.a.createElement(A.a,{column:2},r.a.createElement(A.a.Item,{label:"Age"},e.data.age)),r.a.createElement(L.a,null,r.a.createElement(M,{header:"Patients",key:"1"},t)))},q=function(e){var t=Object(n.useState)(null),a=Object(m.a)(t,2),c=a[0],o=a[1];Object(n.useEffect)((function(){N().get("/doctors/".concat(e.match.params.id)).then((function(e){e.data.success&&o(e.data.doctor)})).catch((function(t){e.history.push("/"),j.a.error("Please login first")}))}),[e.match.params.id]);return r.a.createElement("div",{className:"site-layout-content"},null!=c?r.a.createElement($,{data:c,onDelete:function(){j.a.loading("Deleting..."),N().delete("/doctors/".concat(e.match.params.id)).then((function(t){j.a.info("Deleted doctor and associated patients"),e.history.push("/doctors")})).catch((function(e){j.a.error("Error while deleting patient")}))},onEdit:function(){return console.log("Clicked Edit")}}):r.a.createElement("p",null,"Loading..."))};var K=function(){return r.a.createElement(I,null,r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/",exact:!0,component:w}),r.a.createElement(l.b,{path:"/callback",component:O}),r.a.createElement(l.b,{path:"/patients/create",exact:!0,component:Y}),r.a.createElement(l.b,{path:"/patients",exact:!0,component:B}),r.a.createElement(l.b,{path:"/patients/:id",component:U}),r.a.createElement(l.b,{path:"/doctors/:id",component:q}),r.a.createElement(l.b,{path:"/doctors",exact:!0,component:H})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[168,1,2]]]);
//# sourceMappingURL=main.5d95ad3b.chunk.js.map